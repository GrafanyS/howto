#### Устанавливаем Nginx

Именно он будет отвечать за прием входящих запросов и проксированием их в глубь нашего сервера.

Никаких дополнительных модулей не планируется, поэтому просто ставим из стандартного репозитория:

```bash
sudo apt install nginx
```

И стразу же проверим его статус:

```bash
sudo systemctl status nginx
```

Все.

Работает. Да, мы еще не настроили доменное имя, но если мы откроем браузер и введем там внешний IP нашей виртуальной машины, то мы увидим стандартную страницу приветствия Nginx. Так же можно воспользоваться утилитой **curl**, не зря же мы ее ставили.

```bash
curl 178.154.219.150
```

178.154.219.150 - вам следует заменить на свой.

Стандартный HTML лежит в папке **/var/www/html**, при желании можете его заменить на свой. Мы в рамках данной инструкции делать этого не будем, поскольку использование данной папки вообще не планируется.

Все нормально, сервер работает, пока оставим его дальнейшую настройку на потом. Разве что укажу сразу основные команды, которые необходимо знать при работе с Nginx:



Самая главная команда, которую будем использовать даже чаще чем запрос статуса:

```bash
sudo nginx -t
```

Это тестирование конфигурации, ее необходимо использовать после каждого внесения изменений в конфигурационные файлы. Nginx проведет проверку их синтаксиса и сообщит, если что то не так. Лучше об этом узнать сейчас, чем во время перезапуска.



Кстати о перезагрузке, почему то многие советуют использовать системный метод перезапуска:

```bash
sudo systemctl restart nginx
```

Эта команда целиком остановит и запустит заново все службу, разорвав все текущие соединения, что не всегда хорошо. Используйте ее только в том случае, если точно понимаете зачем.

В большинстве же случаев достаточно мягкой перезагрузки, без остановки самого сервиса:

```bash
sudo systemctl reload nginx
```

Либо воспользоваться внутренней командой самого Nginx:

(Да и официальная документация рекомендует именно ее).

```bash
sudo nginx -s reload
```

 Это позволит протестировать новую конфигурацию, и если все в порядке - сервер начнет  запускать новые процессы уже с ней, завершая старые в рабочем порядке. При таком способе подключения пользователей разорваны не будут.



И давайте убедимся, что наш веб-сервер будет запущен при старте операционной системы:

```bash
sudo systemctl is-enabled nginx
```

Если все в порядке - двигаемся дальше, если нет, то добавим его в автозагрузку:

```bash
sudo systemctl enable nginx
```

